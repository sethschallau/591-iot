sudo apt install mosquitto mosquitto-clients -y

# edit conf with: 
sudo nano /etc/mosquitto/mosquitto.conf
# add the stuff below

listener 1883
allow_anonymous true
max_queued_messages 1000
queue_qos0_messages false

# Save

# restart
sudo systemctl restart mosquitto

# start it up
mosquitto -c /etc/mosquitto/mosquitto.conf -v

# you can test with two new seperate bash terminals
mosquitto_sub -h localhost -t "test/topic" -q 2
mosquitto_pub -h localhost -t "test/topic" -m "Going Test Mode" -q 2 -r

